{"version":3,"file":"pm-perecs/view.js","mappings":"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","sources":["webpack://blocks/external module \"@wordpress/interactivity\"","webpack://blocks/webpack/bootstrap","webpack://blocks/webpack/runtime/make namespace object","webpack://blocks/./src/pm-perecs/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext, getElement } from '@wordpress/interactivity';\n\nconst updatePerec = (currentJuryId, currentTitleId) => {\n\n\tconst { ref } = getElement();\n\tconst context = getContext();\n\n\tref.closest('.wp-block-pm-perecs').querySelectorAll('.pm-content__mobile').forEach( ( post ) => {\n\t\tconst juryId = post.dataset.juryid;\n\t\tconst titleId = post.dataset.titleid;\n\t\tif ( titleId === currentTitleId && juryId === currentJuryId ){\n\t\t\tpost.classList.add('visible');\n\t\t} else {\n\t\t\tpost.classList.remove('visible');\n\t\t}\n\t} );\n\n\tref.closest('.wp-block-pm-perecs').querySelectorAll('.perec-content__post').forEach( ( post ) => {\n\t\tconst juryId = post.dataset.juryid;\n\t\tconst titleId = post.dataset.titleid;\n\t\tif ( titleId === currentTitleId && juryId === currentJuryId ){\n\t\t\tpost.classList.remove('pm-hidden');\n\t\t} else {\n\t\t\tpost.classList.add('pm-hidden');\n\t\t}\n\t} );\n\tref.closest('.wp-block-pm-perecs').querySelectorAll('.perec-index__item').forEach( ( item ) => {\n\t\tconst juryId = item.dataset.juryid;\n\t\tif ( juryId === currentJuryId ){\n\t\t\titem.classList.add('pm-selected');\n\t\t} else {\n\t\t\titem.classList.remove('pm-selected');\n\t\t}\n\t\titem.querySelectorAll('.perec-index__title').forEach( ( title ) => {\n\t\t\tconst titleId = title.dataset.titleid;\n\t\t\tif ( titleId === currentTitleId && juryId === currentJuryId ){\n\t\t\t\ttitle.classList.add('pm-selected');\n\t\t\t} else {\n\t\t\t\ttitle.classList.remove('pm-selected');\n\t\t\t}\n\t\t} );\n\t} );\n};\n\nconst { state } = store( 'pm/perecs', {\n\tactions: {\n\t\tselection: () => {\n\t\t\tconst context = getContext();\n\t\t\tcontext.currentJuryId = context.juryId;\n\t\t\tcontext.currentTitleId = context.titleId;\n\t\t\tupdatePerec(context.currentJuryId, context.currentTitleId);\n\t\t}\n\t},\n\tcallbacks: {\n\t\tinit: () => {\n\t\t\tconst context = getContext();\n\t\t\tupdatePerec(context.currentJuryId, context.currentTitleId);\n\t\t}\n\t}\n});"],"names":["store","getContext","getElement","updatePerec","currentJuryId","currentTitleId","ref","context","closest","querySelectorAll","forEach","post","juryId","dataset","juryid","titleId","titleid","classList","add","remove","item","title","state","actions","selection","callbacks","init"],"sourceRoot":""}